!function(e){window.HockeyDataConfig=function(){return{logoBaseUrl:"/wp-content/themes/hsc-theme/images/teams",hockeyDataApiUrl:"http://api.hockeydata.net/data/ebel",league:"ebel",sport:"icehockey",referer:"www.h-sc.at",hockeyDataApiKey:"e52b5722cbc89c3e51ee0cd6e2485a81"}}}(jQuery),function(e){"use strict";var a=jQuery.fn.addClass;jQuery.fn.addClass=function(){var e=a.apply(this,arguments);return jQuery("#main-header").removeClass("et-fixed-header"),e},e("#main-header").removeClass("et-fixed-header")}(jQuery),function(e){"use strict";function a(){var a=new HockeyDataConfig,t="136",n=[4951,4952],s="halbfinale",i=function(e){var t='<table class="hsc-knockout-overview"><tr>  <td class="image">';return t+=_.contains(n,e.teams[0].id)?"<strong>{{ teams[0].longname }}</strong>":'<img src="'+a.logoBaseUrl+'/{{ teams[0].id }}.png"/>',t+='  </td>  <td class="meta">    <span class="score">{{ teams[0].gamesWon }} : {{ teams[1].gamesWon }}</span><br/>    <span class="bestof">Best of: {{ bestOf }}</span>  </td>  <td class="image">',t+=_.contains(n,e.teams[1].id)?"<strong>{{ teams[1].longname }}</strong>":'<img src="'+a.logoBaseUrl+'/{{ teams[1].id }}.png"/>',t+="  </td></tr></table>",(t=_.template(t))(e)},d=function(e){var a='<tr>  <td class="date" colspan="2">    {{ scheduledDate.value }} - {{ scheduledTime }}  </td></tr><tr>  <td class="team">{{ homeTeamLongName }} <br/> {{ awayTeamLongName }}</td>  <td class="score">      {{ gameStatus > 0 ? homeTeamScore : "-" }}      : {{ gameStatus > 0 ? awayTeamScore : "-" }}  </td></tr>';return(a=_.template(a))(e)},o=function(a,t){var n='<div class="hsc-knockout">',s=c(t);n+=s,n+="</div>",n=e(n),a.append(n),n.fadeIn()},c=function(e){return r("halbfinale"===s.toLowerCase()?e.phases[0]:e.phases[1])},r=function(e){var a="";return _.each(e.encounters,function(e,t){a+=l(e)}),a},l=function(e){var a="",t={teams:e.teams,bestOf:e.bestOf};return a+='<div class="hsc-knockout-game">',a+=i(t),a+='<table class="hsc-knockout-list">',a+=u(e.games),a+="</table>",a+="</div>"},u=function(e){var a="";return _.each(e,function(e,t){a+=d(e)}),a};return{init:function(e){var a=new HockeyDataService;t=e.data("division"),s=e.data("type"),a.getKnockout(t).then(function(a){o(e,a.data)},function(e){console.log("error",e)})}}}e(document).ready(function(){_.templateSettings={interpolate:/\{\{(.+?)\}\}/g},e(".js-hsc-knockout").each(function(){var t=new a;t.init(e(this))})})}(jQuery),function(e){function a(){var a=e("#et-main-area"),n=e(".mobile_menu_bar_toggle");n.on("click",function(n){n.preventDefault(),e(n.currentTarget).hasClass("opened")?(t(),a.show(),e(n.currentTarget).removeClass("opened")):(t(),a.hide(),e(n.currentTarget).addClass("opened"))})}function t(){var a=e(".logo_container");a.animate({top:"-50px"},"fast",function(){window.setTimeout(function(){a.animate({top:"0px"},"fast")},500)})}e(window).load(function(){a()})}(jQuery),function(e){"use strict";var a=function(){var a=new HockeyDataConfig,t="136",n="731",s=function(){return'<div class="no-games">Keine Spiele zur Zeit.</div>'},i=function(){return'<div class="hsc-game-schedule-list-item">  <div class="schedule">    <div class="date">{{ scheduledDate.value }}</div>    <div class="time">- {{ scheduledTime }}</div>  </div>  <div class="game">  <div class="teams">    <div class="team team-home">      <div class="teamlogo"><img src="'+a.logoBaseUrl+'/{{ homeTeamId }}.png" /></div>      <div class="teamname">{{ homeTeamLongName }}</div>    </div>    <div class="divider"></div>    <div class="team team-away">      <div class="teamlogo"><img src="'+a.logoBaseUrl+'/{{ awayTeamId }}.png" /></div>      <div class="teamname">{{ awayTeamLongName }}</div>    </div>  </div>  <div class="scores">      {{ gameStatus > 0 ? homeTeamScore : "-" }}      : {{ gameStatus > 0 ? awayTeamScore : "-" }}  </div>  </div></div>'},d=function(a,t){var n=e('<div class="hsc-game-schedule-list"></div>');a.append(n),o(t.rows,n)},o=function(a,t){var d=_.template(i()),o="",c=1;return 0===a.length?(d=e(s()),t.append(d),d.hide().delay(c*key).fadeIn(),!0):(_.each(a,function(a,s){(a.homeTeamId===n||a.awayTeamId===n)&&("00:00"===a.scheduledTime&&(a.scheduledTime="k.A."),o=e(d(a)),t.append(o),o.hide().delay(c*s).fadeIn())}),!0)};return{init:function(e){var a=new HockeyDataService;t=e.data("division"),n=e.data("team"),a.getSchedule(t).then(function(a){d(e,a.data)},function(e){console.log("error",e)})}}};e(document).ready(function(){_.templateSettings={interpolate:/\{\{(.+?)\}\}/g},e(".js-widget-schedule").each(function(){var t=new a;t.init(e(this))})})}(jQuery),function(e){"use strict";var a=function(){var a=new HockeyDataConfig,t="136",n="731",s="last",i=function(){return'<div class="no-games">Keine Spiele zur Zeit.</div>'},d=function(){var e="last-game-widget";return"next"===s&&(e="next-game-widget"),'<div class="hsc-game-schedule-widget '+e+'"><div class="schedule-widget-holder">  <div class="image image-home-team">    <img src="'+a.logoBaseUrl+'/{{ homeTeamId }}.png" />  </div>  <div class="meta">    <div class="date">{{ scheduledDate.value }}</div>    <div class="time">{{ scheduledTime }}</div>    <div class="scores">{{ homeTeamScore }}:{{ awayTeamScore }}</div>  </div>  <div class="image image-away-team">    <img src="'+a.logoBaseUrl+'/{{ awayTeamId }}.png" />  </div></div>  <div class="teams">    <span class="team home-team">{{ homeTeamLongName }}</span>    <span class="divider">-</span>    <span class="team away-team">{{ awayTeamLongName }}</span>  </div></div>'},o=function(a,t){var n=e('<div class="js-schedule-widget"></div>');a.append(n),c(t.rows,n)},c=function(a,t){var o="",c=_.template(d()),r=moment(),l=!1;if("last"===s){a=_.chain(a).reverse()._wrapped;var u=_.find(a,function(e){if((e.homeTeamId===n||e.awayTeamId===n)&&e.scheduledDate&&e.scheduledDate.value&&e.gameStatus>0){var a=moment(e.scheduledDate.value,"DD.MM.YYYY");if(a.isBefore(r))return e}});u&&(l=!0,"00:00"===u.scheduledTime&&(u.scheduledTime="k.A."),o+=c(u))}if("next"===s){var m=_.find(a,function(e){if((e.homeTeamId===n||e.awayTeamId===n)&&e.scheduledDate&&e.scheduledDate.value&&0===e.gameStatus){var a=moment(e.scheduledDate.value,"DD.MM.YYYY");if(a.isSameOrAfter(r,"day"))return e}});m&&(l=!0,"00:00"===m.scheduledTime&&(m.scheduledTime="k.A."),o+=c(m))}return l?(o=e(o),t.append(o),o.hide().delay("slow").fadeIn(),!0):(c=e(i()),t.append(c),c.hide().delay("slow").fadeIn(),!0)};return{init:function(e){var a=new HockeyDataService;t=e.data("division"),n=e.data("team"),s=e.data("type");a.getSchedule(t).then(function(a){o(e,a.data)},function(e){console.log("error",e)})}}};e(document).ready(function(){_.templateSettings={interpolate:/\{\{(.+?)\}\}/g},e(".js-widget-schedule-single").each(function(){var t=new a;t.init(e(this))})})}(jQuery),function(e){"use strict";function a(){var a=new HockeyDataConfig,t="136",n=function(){return'<tr class="hsc-standings-header"><td class="rank">#</td><td class="image"></td><td class="team">Team</td><td class="info td-gp">Sp</td><td class="info td-w">S</td><td class="info td-l">N</td><td class="info td-otw">OTS</td><td class="info td-otl">OTN</td><td class="info td-goals">Tore</td><td class="info td-gd">TD</td><td class="info td-pts">PKT</td></tr>'},s=function(){return'<tr class="hsc-standings-row"><td class="rank">{{ tableRank }}</td><td class="image"><img src="'+a.logoBaseUrl+'/{{ id }}.png" /></td><td class="team">{{ teamLongname }}</td><td class="info td-gp">{{ gamesPlayed }}</td><td class="info td-w">{{ gamesWon }}</td><td class="info td-l">{{ gamesLost }}</td><td class="info td-otw">{{ gamesWonInOt }}</td><td class="info td-otl">{{ gamesLostInOt }}</td><td class="info td-goals">{{ goalsFor }}:{{ goalsAgainst }}</td><td class="info td-gd">{{ goalDifference }}</td><td class="info td-pts">{{ points }}</td></tr>'},i=function(a,t){var s='<table class="hsc-table hsc-standings">',i=d(t.rows);s+=n(),s+=i,s+="</table>",s=e(s),a.append(s),s.fadeIn()},d=function(e){var a="",t=_.template(s());return _.each(e,function(e,n){a+=t(e)}),a};return{init:function(e){var a=new HockeyDataService;t=e.data("division"),a.getStandings(t).then(function(a){i(e,a.data)},function(e){console.log("error",e)})}}}e(document).ready(function(){_.templateSettings={interpolate:/\{\{(.+?)\}\}/g},e(".js-widget-standings").each(function(){var t=new a;t.init(e(this))})})}(jQuery),function(e){window.HockeyDataService=function(){"use strict";var a=new HockeyDataConfig,t=a.hockeyDataApiUrl,n="/Schedule",s="/Standings",i="/KnockoutStage",d={apiKey:a.hockeyDataApiKey,divisionId:"136",league:a.league,sport:a.sport,referer:a.referer};return{getSchedule:function(a){var s=e.Deferred();d.divisionId=a;var i=e.param(d),o=t+n+"?"+i,c=e.ajax({url:o,dataType:"jsonp",async:!1});return c.success(function(e){return s.resolve(e)}),c.error(function(e){return s.reject({data:{rows:[]}})}),s.promise()},getStandings:function(a){d.divisionId=a;var n=e.param(d),i=t+s+"?"+n;return e.ajax({url:i,dataType:"jsonp"})},getKnockout:function(a){d.divisionId=a;var n=e.param(d),s=t+i+"?"+n;return e.ajax({url:s,dataType:"jsonp"})}}}}(jQuery);
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImhvY2tleWRhdGEtY29uZmlnLmpzIiwiY29tcG9uZW50cy9maXhlcy5qcyIsImNvbXBvbmVudHMva25vY2tvdXQuanMiLCJjb21wb25lbnRzL21vYmlsZS1tZW51LmpzIiwiY29tcG9uZW50cy9zY2hlZHVsZS1saXN0LmpzIiwiY29tcG9uZW50cy9zY2hlZHVsZS13aWRnZXQuanMiLCJjb21wb25lbnRzL3N0YW5kaW5ncy5qcyIsInNlcnZpY2VzL2hvY2tleWRhdGEtc2VydmljZS5qcyJdLCJuYW1lcyI6WyIkIiwid2luZG93IiwiSG9ja2V5RGF0YUNvbmZpZyIsImxvZ29CYXNlVXJsIiwiaG9ja2V5RGF0YUFwaVVybCIsImxlYWd1ZSIsInNwb3J0IiwicmVmZXJlciIsImhvY2tleURhdGFBcGlLZXkiLCJqUXVlcnkiLCJhZGRjbGFzcyIsImZuIiwiYWRkQ2xhc3MiLCJyZXN1bHQiLCJhcHBseSIsInRoaXMiLCJhcmd1bWVudHMiLCJyZW1vdmVDbGFzcyIsIkhzY0tub2Nrb3V0IiwiY29uZmlnIiwiZGl2aXNpb25JZCIsImRlZmF1bHRUZWFtcyIsInR5cGUiLCJyZXRyaWV2ZUVuY291bnRlck92ZXJ2aWV3VGVtcGxhdGUiLCJkYXRhIiwidGVtcGxhdGUiLCJfIiwiY29udGFpbnMiLCJ0ZWFtcyIsImlkIiwicmV0cmlldmVFbmNvdW50ZXJHYW1lVGVtcGxhdGUiLCJnYW1lIiwiYnVpbGRXaWRnZXQiLCIkZWxlbSIsIm91dHB1dCIsInBoYXNlcyIsImJ1aWxkS25vY2tvdXRQaGFzZXMiLCJhcHBlbmQiLCJmYWRlSW4iLCJyZXRyaWV2ZUtub2Nrb3V0UGhhc2UiLCJ0b0xvd2VyQ2FzZSIsInBoYXNlIiwiZWFjaCIsImVuY291bnRlcnMiLCJlbmNvdW50ZXIiLCJrZXkiLCJyZXRyaWV2ZUVuY291bnRlciIsIm92ZXJ2aWV3RGF0YSIsImJlc3RPZiIsInJldHJpZXZlRW5jb3VudGVyR2FtZXMiLCJnYW1lcyIsImluaXQiLCJzZXJ2aWNlIiwiSG9ja2V5RGF0YVNlcnZpY2UiLCJnZXRLbm9ja291dCIsInRoZW4iLCJyZXNwb25zZSIsImNvbnNvbGUiLCJsb2ciLCJkb2N1bWVudCIsInJlYWR5IiwidGVtcGxhdGVTZXR0aW5ncyIsImludGVycG9sYXRlIiwid2lkZ2V0IiwiaW5pdE1vYmlsZU1lbnUiLCIkbWFpbkFyZWEiLCIkbWVudUJ1dHRvbiIsIm9uIiwiZXZlbnQiLCJwcmV2ZW50RGVmYXVsdCIsImN1cnJlbnRUYXJnZXQiLCJoYXNDbGFzcyIsImFuaW1hdGVMb2dvIiwic2hvdyIsImhpZGUiLCIkbG9nbyIsImFuaW1hdGUiLCJ0b3AiLCJzZXRUaW1lb3V0IiwibG9hZCIsIkhvY2tleURhdGFXaWRnZXRzU2NoZWR1bGUiLCJ0ZWFtSWQiLCJyZXRyaWV2ZUVtcHR5VGVtcGxhdGUiLCJyZXRyaWV2ZVJvd1RlbXBsYXRlIiwibGlzdEhvbGRlciIsImJ1aWxkUm93cyIsInJvd3MiLCJlbGVtZW50Iiwicm93IiwiZGVsYXkiLCJsZW5ndGgiLCJ2YWx1ZSIsImhvbWVUZWFtSWQiLCJhd2F5VGVhbUlkIiwic2NoZWR1bGVkVGltZSIsImdldFNjaGVkdWxlIiwic2NoZWR1bGVzIiwiSG9ja2V5RGF0YVdpZGdldHNTY2hlZHVsZVNpbmdsZSIsImNsYXNzTmFtZSIsImhvbGRlciIsInRvZGF5IiwibW9tZW50IiwiZm91bmQiLCJjaGFpbiIsInJldmVyc2UiLCJfd3JhcHBlZCIsImxhc3RHYW1lIiwiZmluZCIsInNjaGVkdWxlZERhdGUiLCJnYW1lU3RhdHVzIiwiZ2FtZURhdGUiLCJpc0JlZm9yZSIsIm5leHRHYW1lIiwiaXNTYW1lT3JBZnRlciIsInNjaGVkdWxlc1NpbmdsZSIsIkhvY2tleURhdGFXaWRnZXRzU3RhbmRpbmdzIiwicmV0cmlldmVIZWFkZXJUZW1wbGF0ZSIsImdldFN0YW5kaW5ncyIsInN0YW5kaW5ncyIsImJhc2VVcmwiLCJzY2hlZHVsZVVybCIsInN0YW5kaW5nc1VybCIsImtub2Nrb3V0VXJsIiwidXJsUGFyYW1zIiwiYXBpS2V5IiwiZGVmZXIiLCJEZWZlcnJlZCIsInBhcmFtcyIsInBhcmFtIiwidXJsIiwicmVxdWVzdCIsImFqYXgiLCJkYXRhVHlwZSIsImFzeW5jIiwic3VjY2VzcyIsInJlc29sdmUiLCJlcnJvciIsInJlamVjdCIsInByb21pc2UiXSwibWFwcGluZ3MiOiJDQUFBLFNBQUFBLEdBQ0FDLE9BQUFDLGlCQUFBLFdBQ0EsT0FDQUMsWUFBQSw0Q0FDQUMsaUJBQUEsc0NBQ0FDLE9BQUEsT0FDQUMsTUFBQSxZQUNBQyxRQUFBLGNBQ0FDLGlCQUFBLHNDQUdBQyxRQ1hBLFNBQUFULEdBQ0EsWUFLQSxJQUFBVSxHQUFBRCxPQUFBRSxHQUFBQyxRQUNBSCxRQUFBRSxHQUFBQyxTQUFBLFdBQ0EsR0FBQUMsR0FBQUgsRUFBQUksTUFBQUMsS0FBQUMsVUFFQSxPQURBUCxRQUFBLGdCQUFBUSxZQUFBLG1CQUNBSixHQUdBYixFQUFBLGdCQUFBaUIsWUFBQSxvQkFFQVIsUUNmQSxTQUFBVCxHQUNBLFlBRUEsU0FBQWtCLEtBQ0EsR0FBQUMsR0FBQSxHQUFBakIsa0JBQ0FrQixFQUFBLE1BQ0FDLEdBQUEsS0FBQSxNQUNBQyxFQUFBLGFBRUFDLEVBQUEsU0FBQUMsR0FDQSxHQUFBQyxHQUFBLCtEQTRCQSxPQXZCQUEsSUFEQUMsRUFBQUMsU0FBQU4sRUFBQUcsRUFBQUksTUFBQSxHQUFBQyxJQUNBLDJDQUVBLGFBQUFWLEVBQUFoQixZQUFBLDRCQUdBc0IsR0FBQSxrTUFRQUEsR0FEQUMsRUFBQUMsU0FBQU4sRUFBQUcsRUFBQUksTUFBQSxHQUFBQyxJQUNBLDJDQUVBLGFBQUFWLEVBQUFoQixZQUFBLDRCQUdBc0IsR0FBQSx3QkFHQUEsRUFBQUMsRUFBQUQsU0FBQUEsSUFFQUQsSUFHQU0sRUFBQSxTQUFBQyxHQUNBLEdBQUFOLEdBQUEscVRBYUEsUUFGQUEsRUFBQUMsRUFBQUQsU0FBQUEsSUFFQU0sSUFHQUMsRUFBQSxTQUFBQyxFQUFBVCxHQUNBLEdBQUFVLEdBQUEsNkJBQ0FDLEVBQUFDLEVBQUFaLEVBQ0FVLElBQUFDLEVBQ0FELEdBQUEsU0FFQUEsRUFBQWxDLEVBQUFrQyxHQUNBRCxFQUFBSSxPQUFBSCxHQUNBQSxFQUFBSSxVQUdBRixFQUFBLFNBQUFaLEdBQ0EsTUFDQWUsR0FEQSxlQUFBakIsRUFBQWtCLGNBQ0FoQixFQUFBVyxPQUFBLEdBRUFYLEVBQUFXLE9BQUEsS0FJQUksRUFBQSxTQUFBRSxHQUNBLEdBQUFQLEdBQUEsRUFLQSxPQUpBUixHQUFBZ0IsS0FBQUQsRUFBQUUsV0FBQSxTQUFBQyxFQUFBQyxHQUNBWCxHQUFBWSxFQUFBRixLQUdBVixHQUdBWSxFQUFBLFNBQUFGLEdBQ0EsR0FBQVYsR0FBQSxHQUNBYSxHQUNBbkIsTUFBQWdCLEVBQUFoQixNQUNBb0IsT0FBQUosRUFBQUksT0FXQSxPQVJBZCxJQUFBLGtDQUNBQSxHQUFBWCxFQUFBd0IsR0FFQWIsR0FBQSxvQ0FDQUEsR0FBQWUsRUFBQUwsRUFBQU0sT0FDQWhCLEdBQUEsV0FDQUEsR0FBQSxVQUtBZSxFQUFBLFNBQUFDLEdBQ0EsR0FBQWhCLEdBQUEsRUFNQSxPQUpBUixHQUFBZ0IsS0FBQVEsRUFBQSxTQUFBbkIsRUFBQWMsR0FDQVgsR0FBQUosRUFBQUMsS0FHQUcsRUFHQSxRQUNBaUIsS0FBQSxTQUFBbEIsR0FDQSxHQUFBbUIsR0FBQSxHQUFBQyxrQkFDQWpDLEdBQUFhLEVBQUFULEtBQUEsWUFDQUYsRUFBQVcsRUFBQVQsS0FBQSxRQUVBNEIsRUFBQUUsWUFBQWxDLEdBQUFtQyxLQUNBLFNBQUFDLEdBQ0F4QixFQUFBQyxFQUFBdUIsRUFBQWhDLE9BRUEsU0FBQWdDLEdBQ0FDLFFBQUFDLElBQUEsUUFBQUYsT0FPQXhELEVBQUEyRCxVQUFBQyxNQUFBLFdBQ0FsQyxFQUFBbUMsa0JBQ0FDLFlBQUEsa0JBR0E5RCxFQUFBLG9CQUFBMEMsS0FBQSxXQUNBLEdBQUFxQixHQUFBLEdBQUE3QyxFQUNBNkMsR0FBQVosS0FBQW5ELEVBQUFlLFlBR0FOLFFDOUlBLFNBQUFULEdBQ0EsUUFBQWdFLEtBQ0EsR0FBQUMsR0FBQWpFLEVBQUEsaUJBQ0FrRSxFQUFBbEUsRUFBQSwwQkFFQWtFLEdBQUFDLEdBQUEsUUFBQSxTQUFBQyxHQUNBQSxFQUFBQyxpQkFFQXJFLEVBQUFvRSxFQUFBRSxlQUFBQyxTQUFBLFdBQ0FDLElBQ0FQLEVBQUFRLE9BQ0F6RSxFQUFBb0UsRUFBQUUsZUFBQXJELFlBQUEsWUFFQXVELElBQ0FQLEVBQUFTLE9BQ0ExRSxFQUFBb0UsRUFBQUUsZUFBQTFELFNBQUEsYUFLQSxRQUFBNEQsS0FDQSxHQUFBRyxHQUFBM0UsRUFBQSxrQkFFQTJFLEdBQUFDLFNBQ0FDLElBQUEsU0FDQSxPQUFBLFdBQ0E1RSxPQUFBNkUsV0FBQSxXQUNBSCxFQUFBQyxTQUNBQyxJQUFBLE9BQ0EsU0FDQSxPQUlBN0UsRUFBQUMsUUFBQThFLEtBQUEsV0FDQWYsT0FFQXZELFFDckNBLFNBQUFULEdBQ0EsWUFFQSxJQUFBZ0YsR0FBQSxXQUNBLEdBQUE3RCxHQUFBLEdBQUFqQixrQkFDQWtCLEVBQUEsTUFDQTZELEVBQUEsTUFFQUMsRUFBQSxXQUNBLE1BQUEsc0RBS0FDLEVBQUEsV0FDQSxNQUFBLGlTQVFBaEUsRUFBQWhCLFlBQUEseU1BS0FnQixFQUFBaEIsWUFBQSwyUEFZQTZCLEVBQUEsU0FBQUMsRUFBQVQsR0FDQSxHQUFBNEQsR0FBQXBGLEVBQUEsNkNBQ0FpQyxHQUFBSSxPQUFBK0MsR0FDQUMsRUFBQTdELEVBQUE4RCxLQUFBRixJQUdBQyxFQUFBLFNBQUFDLEVBQUFDLEdBQ0EsR0FBQTlELEdBQUFDLEVBQUFELFNBQUEwRCxLQUVBSyxFQUFBLEdBQ0FDLEVBQUEsQ0FFQSxPQUFBLEtBQUFILEVBQUFJLFFBQ0FqRSxFQUFBekIsRUFBQWtGLEtBQ0FLLEVBQUFsRCxPQUFBWixHQUNBQSxFQUFBaUQsT0FBQWUsTUFBQUEsRUFBQTVDLEtBQUFQLFVBRUEsSUFHQVosRUFBQWdCLEtBQUE0QyxFQUFBLFNBQUFLLEVBQUE5QyxJQUNBOEMsRUFBQUMsYUFBQVgsR0FBQVUsRUFBQUUsYUFBQVosS0FDQSxVQUFBVSxFQUFBRyxnQkFDQUgsRUFBQUcsY0FBQSxRQUdBTixFQUFBeEYsRUFBQXlCLEVBQUFrRSxJQUNBSixFQUFBbEQsT0FBQW1ELEdBQ0FBLEVBQUFkLE9BQUFlLE1BQUFBLEVBQUE1QyxHQUFBUCxhQUlBLEdBR0EsUUFDQWEsS0FBQSxTQUFBbEIsR0FDQSxHQUFBbUIsR0FBQSxHQUFBQyxrQkFDQWpDLEdBQUFhLEVBQUFULEtBQUEsWUFDQXlELEVBQUFoRCxFQUFBVCxLQUFBLFFBRUE0QixFQUFBMkMsWUFBQTNFLEdBQUFtQyxLQUNBLFNBQUFDLEdBQ0F4QixFQUFBQyxFQUFBdUIsRUFBQWhDLE9BRUEsU0FBQWdDLEdBQ0FDLFFBQUFDLElBQUEsUUFBQUYsT0FPQXhELEdBQUEyRCxVQUFBQyxNQUFBLFdBQ0FsQyxFQUFBbUMsa0JBQ0FDLFlBQUEsa0JBR0E5RCxFQUFBLHVCQUFBMEMsS0FBQSxXQUNBLEdBQUFzRCxHQUFBLEdBQUFoQixFQUNBZ0IsR0FBQTdDLEtBQUFuRCxFQUFBZSxZQUdBTixRQ3ZHQSxTQUFBVCxHQUNBLFlBQ0EsSUFBQWlHLEdBQUEsV0FDQSxHQUFBOUUsR0FBQSxHQUFBakIsa0JBQ0FrQixFQUFBLE1BQ0E2RCxFQUFBLE1BQ0EzRCxFQUFBLE9BRUE0RCxFQUFBLFdBQ0EsTUFBQSxzREFLQUMsRUFBQSxXQUNBLEdBQUFlLEdBQUEsa0JBTUEsT0FKQSxTQUFBNUUsSUFDQTRFLEVBQUEsb0JBR0Esd0NBQUFBLEVBQUEsNEZBR0EvRSxFQUFBaEIsWUFBQSw0UkFRQWdCLEVBQUFoQixZQUFBLDRPQVdBNkIsRUFBQSxTQUFBQyxFQUFBVCxHQUNBLEdBQUEyRSxHQUFBbkcsRUFBQSx5Q0FDQWlDLEdBQUFJLE9BQUE4RCxHQUNBZCxFQUFBN0QsRUFBQThELEtBQUFhLElBR0FkLEVBQUEsU0FBQUMsRUFBQUMsR0FDQSxHQUFBckQsR0FBQSxHQUNBVCxFQUFBQyxFQUFBRCxTQUFBMEQsS0FDQWlCLEVBQUFDLFNBRUFDLEdBQUEsQ0FFQSxJQUFBLFNBQUFoRixFQUFBLENBQ0FnRSxFQUFBNUQsRUFBQTZFLE1BQUFqQixHQUFBa0IsVUFBQUMsUUFDQSxJQUFBQyxHQUFBaEYsRUFBQWlGLEtBQUFyQixFQUFBLFNBQUFFLEdBQ0EsSUFBQUEsRUFBQUksYUFBQVgsR0FBQU8sRUFBQUssYUFBQVosSUFDQU8sRUFBQW9CLGVBQUFwQixFQUFBb0IsY0FBQWpCLE9BQ0FILEVBQUFxQixXQUFBLEVBQ0EsQ0FDQSxHQUFBQyxHQUFBVCxPQUFBYixFQUFBb0IsY0FBQWpCLE1BQUEsYUFFQSxJQUFBbUIsRUFBQUMsU0FBQVgsR0FDQSxNQUFBWixLQUtBa0IsS0FDQUosR0FBQSxFQUVBLFVBQUFJLEVBQUFaLGdCQUNBWSxFQUFBWixjQUFBLFFBR0E1RCxHQUFBVCxFQUFBaUYsSUFJQSxHQUFBLFNBQUFwRixFQUFBLENBQ0EsR0FBQTBGLEdBQUF0RixFQUFBaUYsS0FBQXJCLEVBQUEsU0FBQUUsR0FDQSxJQUFBQSxFQUFBSSxhQUFBWCxHQUFBTyxFQUFBSyxhQUFBWixJQUNBTyxFQUFBb0IsZUFBQXBCLEVBQUFvQixjQUFBakIsT0FDQSxJQUFBSCxFQUFBcUIsV0FDQSxDQUNBLEdBQUFDLEdBQUFULE9BQUFiLEVBQUFvQixjQUFBakIsTUFBQSxhQUVBLElBQUFtQixFQUFBRyxjQUFBYixFQUFBLE9BQ0EsTUFBQVosS0FLQXdCLEtBQ0FWLEdBQUEsRUFFQSxVQUFBVSxFQUFBbEIsZ0JBQ0FrQixFQUFBbEIsY0FBQSxRQUdBNUQsR0FBQVQsRUFBQXVGLElBSUEsTUFBQVYsSUFDQXBFLEVBQUFsQyxFQUFBa0MsR0FDQXFELEVBQUFsRCxPQUFBSCxHQUNBQSxFQUFBd0MsT0FBQWUsTUFBQSxRQUFBbkQsVUFFQSxJQUdBYixFQUFBekIsRUFBQWtGLEtBQ0FLLEVBQUFsRCxPQUFBWixHQUNBQSxFQUFBaUQsT0FBQWUsTUFBQSxRQUFBbkQsVUFFQSxHQUdBLFFBQ0FhLEtBQUEsU0FBQWxCLEdBQ0EsR0FBQW1CLEdBQUEsR0FBQUMsa0JBQ0FqQyxHQUFBYSxFQUFBVCxLQUFBLFlBQ0F5RCxFQUFBaEQsRUFBQVQsS0FBQSxRQUNBRixFQUFBVyxFQUFBVCxLQUFBLE9BRUE0QixHQUFBMkMsWUFBQTNFLEdBQUFtQyxLQUNBLFNBQUFDLEdBQ0F4QixFQUFBQyxFQUFBdUIsRUFBQWhDLE9BRUEsU0FBQWdDLEdBQ0FDLFFBQUFDLElBQUEsUUFBQUYsT0FRQXhELEdBQUEyRCxVQUFBQyxNQUFBLFdBQ0FsQyxFQUFBbUMsa0JBQ0FDLFlBQUEsa0JBR0E5RCxFQUFBLDhCQUFBMEMsS0FBQSxXQUNBLEdBQUF3RSxHQUFBLEdBQUFqQixFQUNBaUIsR0FBQS9ELEtBQUFuRCxFQUFBZSxZQUdBTixRQ3hKQSxTQUFBVCxHQUNBLFlBRUEsU0FBQW1ILEtBQ0EsR0FBQWhHLEdBQUEsR0FBQWpCLGtCQUNBa0IsRUFBQSxNQUdBZ0csRUFBQSxXQUNBLE1BQUEseVdBZUFqQyxFQUFBLFdBQ0EsTUFBQSxrR0FFQWhFLEVBQUFoQixZQUFBLCtiQWFBNkIsRUFBQSxTQUFBQyxFQUFBVCxHQUNBLEdBQUFVLEdBQUEsMENBQ0FvRCxFQUFBRCxFQUFBN0QsRUFBQThELEtBQ0FwRCxJQUFBa0YsSUFDQWxGLEdBQUFvRCxFQUNBcEQsR0FBQSxXQUVBQSxFQUFBbEMsRUFBQWtDLEdBQ0FELEVBQUFJLE9BQUFILEdBQ0FBLEVBQUFJLFVBR0ErQyxFQUFBLFNBQUFDLEdBQ0EsR0FBQXBELEdBQUEsR0FDQVQsRUFBQUMsRUFBQUQsU0FBQTBELElBTUEsT0FKQXpELEdBQUFnQixLQUFBNEMsRUFBQSxTQUFBSyxFQUFBOUMsR0FDQVgsR0FBQVQsRUFBQWtFLEtBR0F6RCxFQUdBLFFBQ0FpQixLQUFBLFNBQUFsQixHQUNBLEdBQUFtQixHQUFBLEdBQUFDLGtCQUNBakMsR0FBQWEsRUFBQVQsS0FBQSxZQUVBNEIsRUFBQWlFLGFBQUFqRyxHQUFBbUMsS0FDQSxTQUFBQyxHQUNBeEIsRUFBQUMsRUFBQXVCLEVBQUFoQyxPQUVBLFNBQUFnQyxHQUNBQyxRQUFBQyxJQUFBLFFBQUFGLE9BT0F4RCxFQUFBMkQsVUFBQUMsTUFBQSxXQUNBbEMsRUFBQW1DLGtCQUNBQyxZQUFBLGtCQUdBOUQsRUFBQSx3QkFBQTBDLEtBQUEsV0FDQSxHQUFBNEUsR0FBQSxHQUFBSCxFQUNBRyxHQUFBbkUsS0FBQW5ELEVBQUFlLFlBR0FOLFFDMUZBLFNBQUFULEdBQ0FDLE9BQUFvRCxrQkFBQSxXQUNBLFlBRUEsSUFBQWxDLEdBQUEsR0FBQWpCLGtCQUNBcUgsRUFBQXBHLEVBQUFmLGlCQUNBb0gsRUFBQSxZQUNBQyxFQUFBLGFBQ0FDLEVBQUEsaUJBRUFDLEdBQ0FDLE9BQUF6RyxFQUFBWCxpQkFDQVksV0FBQSxNQUNBZixPQUFBYyxFQUFBZCxPQUNBQyxNQUFBYSxFQUFBYixNQUNBQyxRQUFBWSxFQUFBWixRQUdBLFFBQ0F3RixZQUFBLFNBQUEzRSxHQUNBLEdBQUF5RyxHQUFBN0gsRUFBQThILFVBRUFILEdBQUF2RyxXQUFBQSxDQUNBLElBQUEyRyxHQUFBL0gsRUFBQWdJLE1BQUFMLEdBQ0FNLEVBQUFWLEVBQUFDLEVBQUEsSUFBQU8sRUFDQUcsRUFBQWxJLEVBQUFtSSxNQUNBRixJQUFBQSxFQUNBRyxTQUFBLFFBQ0FDLE9BQUEsR0FlQSxPQVpBSCxHQUFBSSxRQUFBLFNBQUE5RSxHQUNBLE1BQUFxRSxHQUFBVSxRQUFBL0UsS0FHQTBFLEVBQUFNLE1BQUEsU0FBQWhGLEdBQ0EsTUFBQXFFLEdBQUFZLFFBQ0FqSCxNQUNBOEQsYUFLQXVDLEVBQUFhLFdBR0FyQixhQUFBLFNBQUFqRyxHQUNBdUcsRUFBQXZHLFdBQUFBLENBQ0EsSUFBQTJHLEdBQUEvSCxFQUFBZ0ksTUFBQUwsR0FDQU0sRUFBQVYsRUFBQUUsRUFBQSxJQUFBTSxDQUVBLE9BQUEvSCxHQUFBbUksTUFDQUYsSUFBQUEsRUFDQUcsU0FBQSxXQUdBOUUsWUFBQSxTQUFBbEMsR0FDQXVHLEVBQUF2RyxXQUFBQSxDQUNBLElBQUEyRyxHQUFBL0gsRUFBQWdJLE1BQUFMLEdBQ0FNLEVBQUFWLEVBQUFHLEVBQUEsSUFBQUssQ0FFQSxPQUFBL0gsR0FBQW1JLE1BQ0FGLElBQUFBLEVBQ0FHLFNBQUEsY0FLQTNIIiwiZmlsZSI6ImhzYy5taW4uanMiLCJzb3VyY2VzQ29udGVudCI6WyIoZnVuY3Rpb24oJCkge1xuICAgIHdpbmRvdy5Ib2NrZXlEYXRhQ29uZmlnID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBsb2dvQmFzZVVybDogJy93cC1jb250ZW50L3RoZW1lcy9oc2MtdGhlbWUvaW1hZ2VzL3RlYW1zJyxcbiAgICAgICAgICAgIGhvY2tleURhdGFBcGlVcmw6ICdodHRwOi8vYXBpLmhvY2tleWRhdGEubmV0L2RhdGEvZWJlbCcsXG4gICAgICAgICAgICBsZWFndWU6ICdlYmVsJyxcbiAgICAgICAgICAgIHNwb3J0OiAnaWNlaG9ja2V5JyxcbiAgICAgICAgICAgIHJlZmVyZXI6ICd3d3cuaC1zYy5hdCcsXG4gICAgICAgICAgICBob2NrZXlEYXRhQXBpS2V5OiAnZTUyYjU3MjJjYmM4OWMzZTUxZWUwY2Q2ZTI0ODVhODEnXG4gICAgICAgIH07XG4gICAgfVxufSkoalF1ZXJ5KTtcblxuIiwiKGZ1bmN0aW9uKCQpIHtcbiAgICBcInVzZSBzdHJpY3RcIjtcblxuICAgIC8vIFN0b3AgZGl2aSBoZWFkZXIgZnJvbSBzaHJpbmtpbmcuXG4gICAgLy8gaHR0cHM6Ly9kaXZpYm9vc3Rlci5jb20vc3RvcC10aGUtZGl2aS1oZWFkZXItZnJvbS1zaHJpbmtpbmctb24tc2Nyb2xsL1xuICAgIC8vIE92ZXJyaWRlIHRoZSBhZGRDbGFzcyB0byBwcmV2ZW50IGZpeGVkIGhlYWRlciBjbGFzcyBmcm9tIGJlaW5nIGFkZGVkXG4gICAgdmFyIGFkZGNsYXNzID0galF1ZXJ5LmZuLmFkZENsYXNzO1xuICAgIGpRdWVyeS5mbi5hZGRDbGFzcyA9IGZ1bmN0aW9uKCl7XG4gICAgICAgIHZhciByZXN1bHQgPSBhZGRjbGFzcy5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgICAgICBqUXVlcnkoJyNtYWluLWhlYWRlcicpLnJlbW92ZUNsYXNzKCdldC1maXhlZC1oZWFkZXInKTtcbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICAkKCcjbWFpbi1oZWFkZXInKS5yZW1vdmVDbGFzcygnZXQtZml4ZWQtaGVhZGVyJyk7XG5cbn0pKGpRdWVyeSk7XG4iLCIoZnVuY3Rpb24oJCkge1xuICAgIFwidXNlIHN0cmljdFwiO1xuXG4gICAgZnVuY3Rpb24gSHNjS25vY2tvdXQoKSB7XG4gICAgICAgIHZhciBjb25maWcgPSBuZXcgSG9ja2V5RGF0YUNvbmZpZygpO1xuICAgICAgICB2YXIgZGl2aXNpb25JZCA9ICcxMzYnO1xuICAgICAgICB2YXIgZGVmYXVsdFRlYW1zID0gWzQ5NTEsIDQ5NTJdO1xuICAgICAgICB2YXIgdHlwZSA9ICdoYWxiZmluYWxlJztcblxuICAgICAgICB2YXIgcmV0cmlldmVFbmNvdW50ZXJPdmVydmlld1RlbXBsYXRlID0gZnVuY3Rpb24oZGF0YSkge1xuICAgICAgICAgICAgdmFyIHRlbXBsYXRlID0gJzx0YWJsZSBjbGFzcz1cImhzYy1rbm9ja291dC1vdmVydmlld1wiPidcbiAgICAgICAgICAgICAgICArICc8dHI+J1xuICAgICAgICAgICAgICAgICsgJyAgPHRkIGNsYXNzPVwiaW1hZ2VcIj4nO1xuXG4gICAgICAgICAgICBpZiAoXy5jb250YWlucyhkZWZhdWx0VGVhbXMsIGRhdGEudGVhbXNbMF0uaWQpKSB7XG4gICAgICAgICAgICAgICAgdGVtcGxhdGUgKz0gJzxzdHJvbmc+e3sgdGVhbXNbMF0ubG9uZ25hbWUgfX08L3N0cm9uZz4nO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB0ZW1wbGF0ZSArPSAnPGltZyBzcmM9XCInICsgY29uZmlnLmxvZ29CYXNlVXJsICsgJy97eyB0ZWFtc1swXS5pZCB9fS5wbmdcIi8+JztcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdGVtcGxhdGUgKz0gJyAgPC90ZD4nXG4gICAgICAgICAgICAgICAgKyAnICA8dGQgY2xhc3M9XCJtZXRhXCI+J1xuICAgICAgICAgICAgICAgICsgJyAgICA8c3BhbiBjbGFzcz1cInNjb3JlXCI+e3sgdGVhbXNbMF0uZ2FtZXNXb24gfX0gOiB7eyB0ZWFtc1sxXS5nYW1lc1dvbiB9fTwvc3Bhbj48YnIvPidcbiAgICAgICAgICAgICAgICArICcgICAgPHNwYW4gY2xhc3M9XCJiZXN0b2ZcIj5CZXN0IG9mOiB7eyBiZXN0T2YgfX08L3NwYW4+J1xuICAgICAgICAgICAgICAgICsgJyAgPC90ZD4nXG4gICAgICAgICAgICAgICAgKyAnICA8dGQgY2xhc3M9XCJpbWFnZVwiPic7XG5cbiAgICAgICAgICAgIGlmIChfLmNvbnRhaW5zKGRlZmF1bHRUZWFtcywgZGF0YS50ZWFtc1sxXS5pZCkpIHtcbiAgICAgICAgICAgICAgICB0ZW1wbGF0ZSArPSAnPHN0cm9uZz57eyB0ZWFtc1sxXS5sb25nbmFtZSB9fTwvc3Ryb25nPic7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHRlbXBsYXRlICs9ICc8aW1nIHNyYz1cIicgKyBjb25maWcubG9nb0Jhc2VVcmwgKyAnL3t7IHRlYW1zWzFdLmlkIH19LnBuZ1wiLz4nO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB0ZW1wbGF0ZSArPSAnICA8L3RkPidcbiAgICAgICAgICAgICAgICArICc8L3RyPidcbiAgICAgICAgICAgICAgICArICc8L3RhYmxlPic7XG4gICAgICAgICAgICB0ZW1wbGF0ZSA9IF8udGVtcGxhdGUodGVtcGxhdGUpO1xuXG4gICAgICAgICAgICByZXR1cm4gdGVtcGxhdGUoZGF0YSk7XG4gICAgICAgIH07XG5cbiAgICAgICAgdmFyIHJldHJpZXZlRW5jb3VudGVyR2FtZVRlbXBsYXRlID0gZnVuY3Rpb24oZ2FtZSkge1xuICAgICAgICAgICAgdmFyIHRlbXBsYXRlID0gJzx0cj4nXG4gICAgICAgICAgICAgICAgKyAnICA8dGQgY2xhc3M9XCJkYXRlXCIgY29sc3Bhbj1cIjJcIj4nXG4gICAgICAgICAgICAgICAgKyAnICAgIHt7IHNjaGVkdWxlZERhdGUudmFsdWUgfX0gLSB7eyBzY2hlZHVsZWRUaW1lIH19J1xuICAgICAgICAgICAgICAgICsgJyAgPC90ZD4nXG4gICAgICAgICAgICAgICAgKyAnPC90cj48dHI+J1xuICAgICAgICAgICAgICAgICsgJyAgPHRkIGNsYXNzPVwidGVhbVwiPnt7IGhvbWVUZWFtTG9uZ05hbWUgfX0gPGJyLz4ge3sgYXdheVRlYW1Mb25nTmFtZSB9fTwvdGQ+J1xuICAgICAgICAgICAgICAgICsgJyAgPHRkIGNsYXNzPVwic2NvcmVcIj4nXG4gICAgICAgICAgICAgICAgKyAnICAgICAge3sgZ2FtZVN0YXR1cyA+IDAgPyBob21lVGVhbVNjb3JlIDogXCItXCIgfX0nXG4gICAgICAgICAgICAgICAgKyAnICAgICAgOiB7eyBnYW1lU3RhdHVzID4gMCA/IGF3YXlUZWFtU2NvcmUgOiBcIi1cIiB9fSdcbiAgICAgICAgICAgICAgICArICcgIDwvdGQ+J1xuICAgICAgICAgICAgICAgICsgJzwvdHI+JztcbiAgICAgICAgICAgIHRlbXBsYXRlID0gXy50ZW1wbGF0ZSh0ZW1wbGF0ZSk7XG5cbiAgICAgICAgICAgIHJldHVybiB0ZW1wbGF0ZShnYW1lKTtcbiAgICAgICAgfTtcblxuICAgICAgICB2YXIgYnVpbGRXaWRnZXQgPSBmdW5jdGlvbigkZWxlbSwgZGF0YSkge1xuICAgICAgICAgICAgdmFyIG91dHB1dCA9ICc8ZGl2IGNsYXNzPVwiaHNjLWtub2Nrb3V0XCI+JztcbiAgICAgICAgICAgIHZhciBwaGFzZXMgPSBidWlsZEtub2Nrb3V0UGhhc2VzKGRhdGEpO1xuICAgICAgICAgICAgb3V0cHV0ICs9IHBoYXNlcztcbiAgICAgICAgICAgIG91dHB1dCArPSAnPC9kaXY+JztcblxuICAgICAgICAgICAgb3V0cHV0ID0gJChvdXRwdXQpO1xuICAgICAgICAgICAgJGVsZW0uYXBwZW5kKG91dHB1dCk7XG4gICAgICAgICAgICBvdXRwdXQuZmFkZUluKCk7XG4gICAgICAgIH07XG5cbiAgICAgICAgdmFyIGJ1aWxkS25vY2tvdXRQaGFzZXMgPSBmdW5jdGlvbihkYXRhKSB7XG4gICAgICAgICAgICBpZiAodHlwZS50b0xvd2VyQ2FzZSgpID09PSAnaGFsYmZpbmFsZScpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gcmV0cmlldmVLbm9ja291dFBoYXNlKGRhdGEucGhhc2VzWzBdKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHJldHJpZXZlS25vY2tvdXRQaGFzZShkYXRhLnBoYXNlc1sxXSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG5cbiAgICAgICAgdmFyIHJldHJpZXZlS25vY2tvdXRQaGFzZSA9IGZ1bmN0aW9uKHBoYXNlKSB7XG4gICAgICAgICAgICB2YXIgb3V0cHV0ID0gJyc7XG4gICAgICAgICAgICBfLmVhY2gocGhhc2UuZW5jb3VudGVycywgZnVuY3Rpb24oZW5jb3VudGVyLCBrZXkpIHtcbiAgICAgICAgICAgICAgICBvdXRwdXQgKz0gcmV0cmlldmVFbmNvdW50ZXIoZW5jb3VudGVyKTtcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICByZXR1cm4gb3V0cHV0O1xuICAgICAgICB9O1xuXG4gICAgICAgIHZhciByZXRyaWV2ZUVuY291bnRlciA9IGZ1bmN0aW9uKGVuY291bnRlcikge1xuICAgICAgICAgICAgdmFyIG91dHB1dCA9ICcnO1xuICAgICAgICAgICAgdmFyIG92ZXJ2aWV3RGF0YSA9IHtcbiAgICAgICAgICAgICAgICB0ZWFtczogZW5jb3VudGVyLnRlYW1zLFxuICAgICAgICAgICAgICAgIGJlc3RPZjogZW5jb3VudGVyLmJlc3RPZlxuICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgb3V0cHV0ICs9ICc8ZGl2IGNsYXNzPVwiaHNjLWtub2Nrb3V0LWdhbWVcIj4nO1xuICAgICAgICAgICAgb3V0cHV0ICs9IHJldHJpZXZlRW5jb3VudGVyT3ZlcnZpZXdUZW1wbGF0ZShvdmVydmlld0RhdGEpO1xuXG4gICAgICAgICAgICBvdXRwdXQgKz0gJzx0YWJsZSBjbGFzcz1cImhzYy1rbm9ja291dC1saXN0XCI+JztcbiAgICAgICAgICAgIG91dHB1dCArPSByZXRyaWV2ZUVuY291bnRlckdhbWVzKGVuY291bnRlci5nYW1lcyk7XG4gICAgICAgICAgICBvdXRwdXQgKz0gJzwvdGFibGU+JztcbiAgICAgICAgICAgIG91dHB1dCArPSAnPC9kaXY+JztcblxuICAgICAgICAgICAgcmV0dXJuIG91dHB1dDtcbiAgICAgICAgfTtcblxuICAgICAgICB2YXIgcmV0cmlldmVFbmNvdW50ZXJHYW1lcyA9IGZ1bmN0aW9uKGdhbWVzKSB7XG4gICAgICAgICAgICB2YXIgb3V0cHV0ID0gJyc7XG5cbiAgICAgICAgICAgIF8uZWFjaChnYW1lcywgZnVuY3Rpb24oZ2FtZSwga2V5KSB7XG4gICAgICAgICAgICAgICAgb3V0cHV0ICs9IHJldHJpZXZlRW5jb3VudGVyR2FtZVRlbXBsYXRlKGdhbWUpO1xuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIHJldHVybiBvdXRwdXQ7XG4gICAgICAgIH07XG5cbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGluaXQ6IGZ1bmN0aW9uKCRlbGVtKSB7XG4gICAgICAgICAgICAgICAgdmFyIHNlcnZpY2UgPSBuZXcgSG9ja2V5RGF0YVNlcnZpY2U7XG4gICAgICAgICAgICAgICAgZGl2aXNpb25JZCA9ICRlbGVtLmRhdGEoJ2RpdmlzaW9uJyk7XG4gICAgICAgICAgICAgICAgdHlwZSA9ICRlbGVtLmRhdGEoJ3R5cGUnKTtcblxuICAgICAgICAgICAgICAgIHNlcnZpY2UuZ2V0S25vY2tvdXQoZGl2aXNpb25JZCkudGhlbihcbiAgICAgICAgICAgICAgICAgICAgZnVuY3Rpb24ocmVzcG9uc2UpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJ1aWxkV2lkZ2V0KCRlbGVtLCByZXNwb25zZS5kYXRhKTtcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgZnVuY3Rpb24ocmVzcG9uc2UpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdlcnJvcicsIHJlc3BvbnNlKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgJChkb2N1bWVudCkucmVhZHkoZnVuY3Rpb24oKSB7XG4gICAgICAgIF8udGVtcGxhdGVTZXR0aW5ncyA9IHtcbiAgICAgICAgICAgIGludGVycG9sYXRlOiAvXFx7XFx7KC4rPylcXH1cXH0vZ1xuICAgICAgICB9O1xuXG4gICAgICAgICQoJy5qcy1oc2Mta25vY2tvdXQnKS5lYWNoKGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgdmFyIHdpZGdldCA9IG5ldyBIc2NLbm9ja291dDtcbiAgICAgICAgICAgIHdpZGdldC5pbml0KCQodGhpcykpO1xuICAgICAgICB9KTtcbiAgICB9KTtcbn0pKGpRdWVyeSk7XG4iLCIoZnVuY3Rpb24oJCkge1xuICAgIGZ1bmN0aW9uIGluaXRNb2JpbGVNZW51KCkge1xuICAgICAgICB2YXIgJG1haW5BcmVhID0gJCgnI2V0LW1haW4tYXJlYScpO1xuICAgICAgICB2YXIgJG1lbnVCdXR0b24gPSAkKCcubW9iaWxlX21lbnVfYmFyX3RvZ2dsZScpO1xuXG4gICAgICAgICRtZW51QnV0dG9uLm9uKCdjbGljaycsIGZ1bmN0aW9uKGV2ZW50KSB7XG4gICAgICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuXG4gICAgICAgICAgICBpZiAoJChldmVudC5jdXJyZW50VGFyZ2V0KS5oYXNDbGFzcygnb3BlbmVkJykpIHtcbiAgICAgICAgICAgICAgICBhbmltYXRlTG9nbygpO1xuICAgICAgICAgICAgICAgICRtYWluQXJlYS5zaG93KCk7XG4gICAgICAgICAgICAgICAgJChldmVudC5jdXJyZW50VGFyZ2V0KS5yZW1vdmVDbGFzcygnb3BlbmVkJyk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGFuaW1hdGVMb2dvKCk7XG4gICAgICAgICAgICAgICAgJG1haW5BcmVhLmhpZGUoKTtcbiAgICAgICAgICAgICAgICAkKGV2ZW50LmN1cnJlbnRUYXJnZXQpLmFkZENsYXNzKCdvcGVuZWQnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gYW5pbWF0ZUxvZ28oKSB7XG4gICAgICAgIHZhciAkbG9nbyA9ICQoJy5sb2dvX2NvbnRhaW5lcicpO1xuXG4gICAgICAgICRsb2dvLmFuaW1hdGUoe1xuICAgICAgICAgICAgdG9wOiAnLTUwcHgnXG4gICAgICAgIH0sICdmYXN0JywgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICB3aW5kb3cuc2V0VGltZW91dChmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAkbG9nby5hbmltYXRlKHtcbiAgICAgICAgICAgICAgICAgICAgdG9wOiAnMHB4J1xuICAgICAgICAgICAgICAgIH0sICdmYXN0Jyk7XG4gICAgICAgICAgICB9LCA1MDApO1xuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICAkKHdpbmRvdykubG9hZChmdW5jdGlvbigpIHtcbiAgICAgICAgaW5pdE1vYmlsZU1lbnUoKTtcbiAgICB9KTtcbn0pKGpRdWVyeSk7XG4iLCIoZnVuY3Rpb24oJCkge1xuICAgIFwidXNlIHN0cmljdFwiO1xuXG4gICAgdmFyIEhvY2tleURhdGFXaWRnZXRzU2NoZWR1bGUgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyIGNvbmZpZyA9IG5ldyBIb2NrZXlEYXRhQ29uZmlnKCk7XG4gICAgICAgIHZhciBkaXZpc2lvbklkID0gJzEzNic7XG4gICAgICAgIHZhciB0ZWFtSWQgPSAnNzMxJztcblxuICAgICAgICB2YXIgcmV0cmlldmVFbXB0eVRlbXBsYXRlID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICByZXR1cm4gJzxkaXYgY2xhc3M9XCJuby1nYW1lc1wiPidcbiAgICAgICAgICAgICAgICArICdLZWluZSBTcGllbGUgenVyIFplaXQuJ1xuICAgICAgICAgICAgICAgICsgJzwvZGl2Pic7XG4gICAgICAgIH07XG5cbiAgICAgICAgdmFyIHJldHJpZXZlUm93VGVtcGxhdGUgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHJldHVybiAnPGRpdiBjbGFzcz1cImhzYy1nYW1lLXNjaGVkdWxlLWxpc3QtaXRlbVwiPidcbiAgICAgICAgICAgICAgICArICcgIDxkaXYgY2xhc3M9XCJzY2hlZHVsZVwiPidcbiAgICAgICAgICAgICAgICArICcgICAgPGRpdiBjbGFzcz1cImRhdGVcIj57eyBzY2hlZHVsZWREYXRlLnZhbHVlIH19PC9kaXY+J1xuICAgICAgICAgICAgICAgICsgJyAgICA8ZGl2IGNsYXNzPVwidGltZVwiPi0ge3sgc2NoZWR1bGVkVGltZSB9fTwvZGl2PidcbiAgICAgICAgICAgICAgICArICcgIDwvZGl2PidcbiAgICAgICAgICAgICAgICArICcgIDxkaXYgY2xhc3M9XCJnYW1lXCI+J1xuICAgICAgICAgICAgICAgICsgJyAgPGRpdiBjbGFzcz1cInRlYW1zXCI+J1xuICAgICAgICAgICAgICAgICsgJyAgICA8ZGl2IGNsYXNzPVwidGVhbSB0ZWFtLWhvbWVcIj4nXG4gICAgICAgICAgICAgICAgKyAnICAgICAgPGRpdiBjbGFzcz1cInRlYW1sb2dvXCI+PGltZyBzcmM9XCInICsgY29uZmlnLmxvZ29CYXNlVXJsICsgJy97eyBob21lVGVhbUlkIH19LnBuZ1wiIC8+PC9kaXY+J1xuICAgICAgICAgICAgICAgICsgJyAgICAgIDxkaXYgY2xhc3M9XCJ0ZWFtbmFtZVwiPnt7IGhvbWVUZWFtTG9uZ05hbWUgfX08L2Rpdj4nXG4gICAgICAgICAgICAgICAgKyAnICAgIDwvZGl2PidcbiAgICAgICAgICAgICAgICArICcgICAgPGRpdiBjbGFzcz1cImRpdmlkZXJcIj48L2Rpdj4nXG4gICAgICAgICAgICAgICAgKyAnICAgIDxkaXYgY2xhc3M9XCJ0ZWFtIHRlYW0tYXdheVwiPidcbiAgICAgICAgICAgICAgICArICcgICAgICA8ZGl2IGNsYXNzPVwidGVhbWxvZ29cIj48aW1nIHNyYz1cIicgKyBjb25maWcubG9nb0Jhc2VVcmwgKyAnL3t7IGF3YXlUZWFtSWQgfX0ucG5nXCIgLz48L2Rpdj4nXG4gICAgICAgICAgICAgICAgKyAnICAgICAgPGRpdiBjbGFzcz1cInRlYW1uYW1lXCI+e3sgYXdheVRlYW1Mb25nTmFtZSB9fTwvZGl2PidcbiAgICAgICAgICAgICAgICArICcgICAgPC9kaXY+J1xuICAgICAgICAgICAgICAgICsgJyAgPC9kaXY+J1xuICAgICAgICAgICAgICAgICsgJyAgPGRpdiBjbGFzcz1cInNjb3Jlc1wiPidcbiAgICAgICAgICAgICAgICArICcgICAgICB7eyBnYW1lU3RhdHVzID4gMCA/IGhvbWVUZWFtU2NvcmUgOiBcIi1cIiB9fSdcbiAgICAgICAgICAgICAgICArICcgICAgICA6IHt7IGdhbWVTdGF0dXMgPiAwID8gYXdheVRlYW1TY29yZSA6IFwiLVwiIH19J1xuICAgICAgICAgICAgICAgICsgJyAgPC9kaXY+J1xuICAgICAgICAgICAgICAgICsgJyAgPC9kaXY+J1xuICAgICAgICAgICAgICAgICsgJzwvZGl2Pic7XG4gICAgICAgIH07XG5cbiAgICAgICAgdmFyIGJ1aWxkV2lkZ2V0ID0gZnVuY3Rpb24oJGVsZW0sIGRhdGEpIHtcbiAgICAgICAgICAgIHZhciBsaXN0SG9sZGVyID0gJCgnPGRpdiBjbGFzcz1cImhzYy1nYW1lLXNjaGVkdWxlLWxpc3RcIj48L2Rpdj4nKTtcbiAgICAgICAgICAgICRlbGVtLmFwcGVuZChsaXN0SG9sZGVyKTtcbiAgICAgICAgICAgIGJ1aWxkUm93cyhkYXRhLnJvd3MsIGxpc3RIb2xkZXIpO1xuICAgICAgICB9O1xuXG4gICAgICAgIHZhciBidWlsZFJvd3MgPSBmdW5jdGlvbihyb3dzLCBlbGVtZW50KSB7XG4gICAgICAgICAgICB2YXIgdGVtcGxhdGUgPSBfLnRlbXBsYXRlKHJldHJpZXZlUm93VGVtcGxhdGUoKSk7XG4gICAgICAgICAgICB2YXIgb3V0cHV0ID0gJyc7XG4gICAgICAgICAgICB2YXIgcm93ID0gJyc7XG4gICAgICAgICAgICB2YXIgZGVsYXkgPSAxO1xuXG4gICAgICAgICAgICBpZiAocm93cy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgICAgICB0ZW1wbGF0ZSA9ICQocmV0cmlldmVFbXB0eVRlbXBsYXRlKCkpO1xuICAgICAgICAgICAgICAgIGVsZW1lbnQuYXBwZW5kKHRlbXBsYXRlKTtcbiAgICAgICAgICAgICAgICB0ZW1wbGF0ZS5oaWRlKCkuZGVsYXkoZGVsYXkgKiBrZXkpLmZhZGVJbigpO1xuXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIF8uZWFjaChyb3dzLCBmdW5jdGlvbih2YWx1ZSwga2V5KSB7XG4gICAgICAgICAgICAgICAgaWYgKHZhbHVlLmhvbWVUZWFtSWQgPT09IHRlYW1JZCB8fCB2YWx1ZS5hd2F5VGVhbUlkID09PSB0ZWFtSWQpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHZhbHVlLnNjaGVkdWxlZFRpbWUgPT09ICcwMDowMCcpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlLnNjaGVkdWxlZFRpbWUgPSAnay5BLic7XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICByb3cgPSAkKHRlbXBsYXRlKHZhbHVlKSk7XG4gICAgICAgICAgICAgICAgICAgIGVsZW1lbnQuYXBwZW5kKHJvdyk7XG4gICAgICAgICAgICAgICAgICAgIHJvdy5oaWRlKCkuZGVsYXkoZGVsYXkgKiBrZXkpLmZhZGVJbigpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfTtcblxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgaW5pdDogZnVuY3Rpb24oJGVsZW0pIHtcbiAgICAgICAgICAgICAgICB2YXIgc2VydmljZSA9IG5ldyBIb2NrZXlEYXRhU2VydmljZTtcbiAgICAgICAgICAgICAgICBkaXZpc2lvbklkID0gJGVsZW0uZGF0YSgnZGl2aXNpb24nKTtcbiAgICAgICAgICAgICAgICB0ZWFtSWQgPSAkZWxlbS5kYXRhKCd0ZWFtJyk7XG5cbiAgICAgICAgICAgICAgICBzZXJ2aWNlLmdldFNjaGVkdWxlKGRpdmlzaW9uSWQpLnRoZW4oXG4gICAgICAgICAgICAgICAgICAgIGZ1bmN0aW9uKHJlc3BvbnNlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBidWlsZFdpZGdldCgkZWxlbSwgcmVzcG9uc2UuZGF0YSk7XG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIGZ1bmN0aW9uKHJlc3BvbnNlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnZXJyb3InLCByZXNwb25zZSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcblxuICAgICQoZG9jdW1lbnQpLnJlYWR5KGZ1bmN0aW9uKCkge1xuICAgICAgICBfLnRlbXBsYXRlU2V0dGluZ3MgPSB7XG4gICAgICAgICAgICBpbnRlcnBvbGF0ZTogL1xce1xceyguKz8pXFx9XFx9L2dcbiAgICAgICAgfTtcblxuICAgICAgICAkKCcuanMtd2lkZ2V0LXNjaGVkdWxlJykuZWFjaChmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHZhciBzY2hlZHVsZXMgPSBuZXcgSG9ja2V5RGF0YVdpZGdldHNTY2hlZHVsZTtcbiAgICAgICAgICAgIHNjaGVkdWxlcy5pbml0KCQodGhpcykpO1xuICAgICAgICB9KTtcbiAgICB9KTtcbn0pKGpRdWVyeSk7XG4iLCIoZnVuY3Rpb24oJCkge1xuICAgIFwidXNlIHN0cmljdFwiO1xuICAgIHZhciBIb2NrZXlEYXRhV2lkZ2V0c1NjaGVkdWxlU2luZ2xlID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHZhciBjb25maWcgPSBuZXcgSG9ja2V5RGF0YUNvbmZpZygpO1xuICAgICAgICB2YXIgZGl2aXNpb25JZCA9ICcxMzYnO1xuICAgICAgICB2YXIgdGVhbUlkID0gJzczMSc7XG4gICAgICAgIHZhciB0eXBlID0gJ2xhc3QnO1xuXG4gICAgICAgIHZhciByZXRyaWV2ZUVtcHR5VGVtcGxhdGUgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHJldHVybiAnPGRpdiBjbGFzcz1cIm5vLWdhbWVzXCI+J1xuICAgICAgICAgICAgICAgICsgJ0tlaW5lIFNwaWVsZSB6dXIgWmVpdC4nXG4gICAgICAgICAgICAgICAgKyAnPC9kaXY+JztcbiAgICAgICAgfTtcblxuICAgICAgICB2YXIgcmV0cmlldmVSb3dUZW1wbGF0ZSA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgdmFyIGNsYXNzTmFtZSA9ICdsYXN0LWdhbWUtd2lkZ2V0JztcblxuICAgICAgICAgICAgaWYgKHR5cGUgPT09ICduZXh0Jykge1xuICAgICAgICAgICAgICAgIGNsYXNzTmFtZSA9ICduZXh0LWdhbWUtd2lkZ2V0JztcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuICc8ZGl2IGNsYXNzPVwiaHNjLWdhbWUtc2NoZWR1bGUtd2lkZ2V0ICcgKyBjbGFzc05hbWUgKyAnXCI+J1xuICAgICAgICAgICAgICAgICsgJzxkaXYgY2xhc3M9XCJzY2hlZHVsZS13aWRnZXQtaG9sZGVyXCI+J1xuICAgICAgICAgICAgICAgICsgJyAgPGRpdiBjbGFzcz1cImltYWdlIGltYWdlLWhvbWUtdGVhbVwiPidcbiAgICAgICAgICAgICAgICArICcgICAgPGltZyBzcmM9XCInICsgY29uZmlnLmxvZ29CYXNlVXJsICsgJy97eyBob21lVGVhbUlkIH19LnBuZ1wiIC8+J1xuICAgICAgICAgICAgICAgICsgJyAgPC9kaXY+J1xuICAgICAgICAgICAgICAgICsgJyAgPGRpdiBjbGFzcz1cIm1ldGFcIj4nXG4gICAgICAgICAgICAgICAgKyAnICAgIDxkaXYgY2xhc3M9XCJkYXRlXCI+e3sgc2NoZWR1bGVkRGF0ZS52YWx1ZSB9fTwvZGl2PidcbiAgICAgICAgICAgICAgICArICcgICAgPGRpdiBjbGFzcz1cInRpbWVcIj57eyBzY2hlZHVsZWRUaW1lIH19PC9kaXY+J1xuICAgICAgICAgICAgICAgICsgJyAgICA8ZGl2IGNsYXNzPVwic2NvcmVzXCI+e3sgaG9tZVRlYW1TY29yZSB9fTp7eyBhd2F5VGVhbVNjb3JlIH19PC9kaXY+J1xuICAgICAgICAgICAgICAgICsgJyAgPC9kaXY+J1xuICAgICAgICAgICAgICAgICsgJyAgPGRpdiBjbGFzcz1cImltYWdlIGltYWdlLWF3YXktdGVhbVwiPidcbiAgICAgICAgICAgICAgICArICcgICAgPGltZyBzcmM9XCInICsgY29uZmlnLmxvZ29CYXNlVXJsICsgJy97eyBhd2F5VGVhbUlkIH19LnBuZ1wiIC8+J1xuICAgICAgICAgICAgICAgICsgJyAgPC9kaXY+J1xuICAgICAgICAgICAgICAgICsgJzwvZGl2PidcbiAgICAgICAgICAgICAgICArICcgIDxkaXYgY2xhc3M9XCJ0ZWFtc1wiPidcbiAgICAgICAgICAgICAgICArICcgICAgPHNwYW4gY2xhc3M9XCJ0ZWFtIGhvbWUtdGVhbVwiPnt7IGhvbWVUZWFtTG9uZ05hbWUgfX08L3NwYW4+J1xuICAgICAgICAgICAgICAgICsgJyAgICA8c3BhbiBjbGFzcz1cImRpdmlkZXJcIj4tPC9zcGFuPidcbiAgICAgICAgICAgICAgICArICcgICAgPHNwYW4gY2xhc3M9XCJ0ZWFtIGF3YXktdGVhbVwiPnt7IGF3YXlUZWFtTG9uZ05hbWUgfX08L3NwYW4+J1xuICAgICAgICAgICAgICAgICsgJyAgPC9kaXY+J1xuICAgICAgICAgICAgICAgICsgJzwvZGl2Pic7XG4gICAgICAgIH07XG5cbiAgICAgICAgdmFyIGJ1aWxkV2lkZ2V0ID0gZnVuY3Rpb24oJGVsZW0sIGRhdGEpIHtcbiAgICAgICAgICAgIHZhciBob2xkZXIgPSAkKCc8ZGl2IGNsYXNzPVwianMtc2NoZWR1bGUtd2lkZ2V0XCI+PC9kaXY+Jyk7XG4gICAgICAgICAgICAkZWxlbS5hcHBlbmQoaG9sZGVyKTtcbiAgICAgICAgICAgIGJ1aWxkUm93cyhkYXRhLnJvd3MsIGhvbGRlcik7XG4gICAgICAgIH07XG5cbiAgICAgICAgdmFyIGJ1aWxkUm93cyA9IGZ1bmN0aW9uKHJvd3MsIGVsZW1lbnQpIHtcbiAgICAgICAgICAgIHZhciBvdXRwdXQgPSAnJztcbiAgICAgICAgICAgIHZhciB0ZW1wbGF0ZSA9IF8udGVtcGxhdGUocmV0cmlldmVSb3dUZW1wbGF0ZSgpKTtcbiAgICAgICAgICAgIHZhciB0b2RheSA9IG1vbWVudCgpO1xuICAgICAgICAgICAgdmFyIGxpbWl0ID0gMTtcbiAgICAgICAgICAgIHZhciBmb3VuZCA9IGZhbHNlO1xuXG4gICAgICAgICAgICBpZiAodHlwZSA9PT0gJ2xhc3QnKSB7XG4gICAgICAgICAgICAgICAgcm93cyA9IF8uY2hhaW4ocm93cykucmV2ZXJzZSgpLl93cmFwcGVkO1xuICAgICAgICAgICAgICAgIHZhciBsYXN0R2FtZSA9IF8uZmluZChyb3dzLCBmdW5jdGlvbihyb3cpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKChyb3cuaG9tZVRlYW1JZCA9PT0gdGVhbUlkIHx8IHJvdy5hd2F5VGVhbUlkID09PSB0ZWFtSWQpXG4gICAgICAgICAgICAgICAgICAgICAgICAmJiAocm93LnNjaGVkdWxlZERhdGUgJiYgcm93LnNjaGVkdWxlZERhdGUudmFsdWUpXG4gICAgICAgICAgICAgICAgICAgICAgICAmJiByb3cuZ2FtZVN0YXR1cyA+IDBcbiAgICAgICAgICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgZ2FtZURhdGUgPSBtb21lbnQocm93LnNjaGVkdWxlZERhdGUudmFsdWUsICdERC5NTS5ZWVlZJyk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChnYW1lRGF0ZS5pc0JlZm9yZSh0b2RheSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gcm93O1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICBpZiAobGFzdEdhbWUpIHtcbiAgICAgICAgICAgICAgICAgICAgZm91bmQgPSB0cnVlO1xuXG4gICAgICAgICAgICAgICAgICAgIGlmIChsYXN0R2FtZS5zY2hlZHVsZWRUaW1lID09PSAnMDA6MDAnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBsYXN0R2FtZS5zY2hlZHVsZWRUaW1lID0gJ2suQS4nO1xuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgb3V0cHV0ICs9IHRlbXBsYXRlKGxhc3RHYW1lKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmICh0eXBlID09PSAnbmV4dCcpIHtcbiAgICAgICAgICAgICAgICB2YXIgbmV4dEdhbWUgPSBfLmZpbmQocm93cywgZnVuY3Rpb24ocm93KSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICgocm93LmhvbWVUZWFtSWQgPT09IHRlYW1JZCB8fCByb3cuYXdheVRlYW1JZCA9PT0gdGVhbUlkKVxuICAgICAgICAgICAgICAgICAgICAgICAgJiYgKHJvdy5zY2hlZHVsZWREYXRlICYmIHJvdy5zY2hlZHVsZWREYXRlLnZhbHVlKVxuICAgICAgICAgICAgICAgICAgICAgICAgJiYgcm93LmdhbWVTdGF0dXMgPT09IDBcbiAgICAgICAgICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgZ2FtZURhdGUgPSBtb21lbnQocm93LnNjaGVkdWxlZERhdGUudmFsdWUsICdERC5NTS5ZWVlZJyk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChnYW1lRGF0ZS5pc1NhbWVPckFmdGVyKHRvZGF5LCAnZGF5JykpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gcm93O1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICBpZiAobmV4dEdhbWUpIHtcbiAgICAgICAgICAgICAgICAgICAgZm91bmQgPSB0cnVlO1xuXG4gICAgICAgICAgICAgICAgICAgIGlmIChuZXh0R2FtZS5zY2hlZHVsZWRUaW1lID09PSAnMDA6MDAnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBuZXh0R2FtZS5zY2hlZHVsZWRUaW1lID0gJ2suQS4nO1xuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgb3V0cHV0ICs9IHRlbXBsYXRlKG5leHRHYW1lKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChmb3VuZCkge1xuICAgICAgICAgICAgICAgIG91dHB1dCA9ICQob3V0cHV0KTtcbiAgICAgICAgICAgICAgICBlbGVtZW50LmFwcGVuZChvdXRwdXQpO1xuICAgICAgICAgICAgICAgIG91dHB1dC5oaWRlKCkuZGVsYXkoJ3Nsb3cnKS5mYWRlSW4oKTtcblxuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB0ZW1wbGF0ZSA9ICQocmV0cmlldmVFbXB0eVRlbXBsYXRlKCkpO1xuICAgICAgICAgICAgZWxlbWVudC5hcHBlbmQodGVtcGxhdGUpO1xuICAgICAgICAgICAgdGVtcGxhdGUuaGlkZSgpLmRlbGF5KCdzbG93JykuZmFkZUluKCk7XG5cbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9O1xuXG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBpbml0OiBmdW5jdGlvbigkZWxlbSkge1xuICAgICAgICAgICAgICAgIHZhciBzZXJ2aWNlID0gbmV3IEhvY2tleURhdGFTZXJ2aWNlO1xuICAgICAgICAgICAgICAgIGRpdmlzaW9uSWQgPSAkZWxlbS5kYXRhKCdkaXZpc2lvbicpO1xuICAgICAgICAgICAgICAgIHRlYW1JZCA9ICRlbGVtLmRhdGEoJ3RlYW0nKTtcbiAgICAgICAgICAgICAgICB0eXBlID0gJGVsZW0uZGF0YSgndHlwZScpO1xuXG4gICAgICAgICAgICAgICAgdmFyIGRhdGEgPSBzZXJ2aWNlLmdldFNjaGVkdWxlKGRpdmlzaW9uSWQpLnRoZW4oXG4gICAgICAgICAgICAgICAgICAgIGZ1bmN0aW9uKHJlc3BvbnNlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBidWlsZFdpZGdldCgkZWxlbSwgcmVzcG9uc2UuZGF0YSk7XG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIGZ1bmN0aW9uKHJlc3BvbnNlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnZXJyb3InLCByZXNwb25zZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBidWlsZFdpZGdldCgkZWxlbSwgSlNPTi5wYXJzZShyZXNwb25zZS5kYXRhKSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcblxuICAgICQoZG9jdW1lbnQpLnJlYWR5KGZ1bmN0aW9uKCkge1xuICAgICAgICBfLnRlbXBsYXRlU2V0dGluZ3MgPSB7XG4gICAgICAgICAgICBpbnRlcnBvbGF0ZTogL1xce1xceyguKz8pXFx9XFx9L2dcbiAgICAgICAgfTtcblxuICAgICAgICAkKCcuanMtd2lkZ2V0LXNjaGVkdWxlLXNpbmdsZScpLmVhY2goZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICB2YXIgc2NoZWR1bGVzU2luZ2xlID0gbmV3IEhvY2tleURhdGFXaWRnZXRzU2NoZWR1bGVTaW5nbGU7XG4gICAgICAgICAgICBzY2hlZHVsZXNTaW5nbGUuaW5pdCgkKHRoaXMpKTtcbiAgICAgICAgfSk7XG4gICAgfSk7XG59KShqUXVlcnkpO1xuIiwiKGZ1bmN0aW9uKCQpIHtcbiAgICBcInVzZSBzdHJpY3RcIjtcblxuICAgIGZ1bmN0aW9uIEhvY2tleURhdGFXaWRnZXRzU3RhbmRpbmdzKCkge1xuICAgICAgICB2YXIgY29uZmlnID0gbmV3IEhvY2tleURhdGFDb25maWcoKTtcbiAgICAgICAgdmFyIGRpdmlzaW9uSWQgPSAnMTM2JztcbiAgICAgICAgdmFyIHRlYW1JZCA9ICc3MzEnO1xuXG4gICAgICAgIHZhciByZXRyaWV2ZUhlYWRlclRlbXBsYXRlID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICByZXR1cm4gJzx0ciBjbGFzcz1cImhzYy1zdGFuZGluZ3MtaGVhZGVyXCI+J1xuICAgICAgICAgICAgICAgICsgJzx0ZCBjbGFzcz1cInJhbmtcIj4jPC90ZD4nXG4gICAgICAgICAgICAgICAgKyAnPHRkIGNsYXNzPVwiaW1hZ2VcIj48L3RkPidcbiAgICAgICAgICAgICAgICArICc8dGQgY2xhc3M9XCJ0ZWFtXCI+VGVhbTwvdGQ+J1xuICAgICAgICAgICAgICAgICsgJzx0ZCBjbGFzcz1cImluZm8gdGQtZ3BcIj5TcDwvdGQ+J1xuICAgICAgICAgICAgICAgICsgJzx0ZCBjbGFzcz1cImluZm8gdGQtd1wiPlM8L3RkPidcbiAgICAgICAgICAgICAgICArICc8dGQgY2xhc3M9XCJpbmZvIHRkLWxcIj5OPC90ZD4nXG4gICAgICAgICAgICAgICAgKyAnPHRkIGNsYXNzPVwiaW5mbyB0ZC1vdHdcIj5PVFM8L3RkPidcbiAgICAgICAgICAgICAgICArICc8dGQgY2xhc3M9XCJpbmZvIHRkLW90bFwiPk9UTjwvdGQ+J1xuICAgICAgICAgICAgICAgICsgJzx0ZCBjbGFzcz1cImluZm8gdGQtZ29hbHNcIj5Ub3JlPC90ZD4nXG4gICAgICAgICAgICAgICAgKyAnPHRkIGNsYXNzPVwiaW5mbyB0ZC1nZFwiPlREPC90ZD4nXG4gICAgICAgICAgICAgICAgKyAnPHRkIGNsYXNzPVwiaW5mbyB0ZC1wdHNcIj5QS1Q8L3RkPidcbiAgICAgICAgICAgICAgICArICc8L3RyPic7XG4gICAgICAgIH07XG5cbiAgICAgICAgdmFyIHJldHJpZXZlUm93VGVtcGxhdGUgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHJldHVybiAnPHRyIGNsYXNzPVwiaHNjLXN0YW5kaW5ncy1yb3dcIj4nXG4gICAgICAgICAgICAgICAgKyAnPHRkIGNsYXNzPVwicmFua1wiPnt7IHRhYmxlUmFuayB9fTwvdGQ+J1xuICAgICAgICAgICAgICAgICsgJzx0ZCBjbGFzcz1cImltYWdlXCI+PGltZyBzcmM9XCInICsgY29uZmlnLmxvZ29CYXNlVXJsICsgJy97eyBpZCB9fS5wbmdcIiAvPjwvdGQ+J1xuICAgICAgICAgICAgICAgICsgJzx0ZCBjbGFzcz1cInRlYW1cIj57eyB0ZWFtTG9uZ25hbWUgfX08L3RkPidcbiAgICAgICAgICAgICAgICArICc8dGQgY2xhc3M9XCJpbmZvIHRkLWdwXCI+e3sgZ2FtZXNQbGF5ZWQgfX08L3RkPidcbiAgICAgICAgICAgICAgICArICc8dGQgY2xhc3M9XCJpbmZvIHRkLXdcIj57eyBnYW1lc1dvbiB9fTwvdGQ+J1xuICAgICAgICAgICAgICAgICsgJzx0ZCBjbGFzcz1cImluZm8gdGQtbFwiPnt7IGdhbWVzTG9zdCB9fTwvdGQ+J1xuICAgICAgICAgICAgICAgICsgJzx0ZCBjbGFzcz1cImluZm8gdGQtb3R3XCI+e3sgZ2FtZXNXb25Jbk90IH19PC90ZD4nXG4gICAgICAgICAgICAgICAgKyAnPHRkIGNsYXNzPVwiaW5mbyB0ZC1vdGxcIj57eyBnYW1lc0xvc3RJbk90IH19PC90ZD4nXG4gICAgICAgICAgICAgICAgKyAnPHRkIGNsYXNzPVwiaW5mbyB0ZC1nb2Fsc1wiPnt7IGdvYWxzRm9yIH19Ont7IGdvYWxzQWdhaW5zdCB9fTwvdGQ+J1xuICAgICAgICAgICAgICAgICsgJzx0ZCBjbGFzcz1cImluZm8gdGQtZ2RcIj57eyBnb2FsRGlmZmVyZW5jZSB9fTwvdGQ+J1xuICAgICAgICAgICAgICAgICsgJzx0ZCBjbGFzcz1cImluZm8gdGQtcHRzXCI+e3sgcG9pbnRzIH19PC90ZD4nXG4gICAgICAgICAgICAgICAgKyAnPC90cj4nO1xuICAgICAgICB9O1xuXG4gICAgICAgIHZhciBidWlsZFdpZGdldCA9IGZ1bmN0aW9uKCRlbGVtLCBkYXRhKSB7XG4gICAgICAgICAgICB2YXIgb3V0cHV0ID0gJzx0YWJsZSBjbGFzcz1cImhzYy10YWJsZSBoc2Mtc3RhbmRpbmdzXCI+JztcbiAgICAgICAgICAgIHZhciByb3dzID0gYnVpbGRSb3dzKGRhdGEucm93cyk7XG4gICAgICAgICAgICBvdXRwdXQgKz0gcmV0cmlldmVIZWFkZXJUZW1wbGF0ZSgpO1xuICAgICAgICAgICAgb3V0cHV0ICs9IHJvd3M7XG4gICAgICAgICAgICBvdXRwdXQgKz0gJzwvdGFibGU+JztcblxuICAgICAgICAgICAgb3V0cHV0ID0gJChvdXRwdXQpO1xuICAgICAgICAgICAgJGVsZW0uYXBwZW5kKG91dHB1dCk7XG4gICAgICAgICAgICBvdXRwdXQuZmFkZUluKCk7XG4gICAgICAgIH07XG5cbiAgICAgICAgdmFyIGJ1aWxkUm93cyA9IGZ1bmN0aW9uKHJvd3MpIHtcbiAgICAgICAgICAgIHZhciBvdXRwdXQgPSAnJztcbiAgICAgICAgICAgIHZhciB0ZW1wbGF0ZSA9IF8udGVtcGxhdGUocmV0cmlldmVSb3dUZW1wbGF0ZSgpKTtcblxuICAgICAgICAgICAgXy5lYWNoKHJvd3MsIGZ1bmN0aW9uKHZhbHVlLCBrZXkpIHtcbiAgICAgICAgICAgICAgICBvdXRwdXQgKz0gdGVtcGxhdGUodmFsdWUpO1xuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIHJldHVybiBvdXRwdXQ7XG4gICAgICAgIH07XG5cbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGluaXQ6IGZ1bmN0aW9uKCRlbGVtKSB7XG4gICAgICAgICAgICAgICAgdmFyIHNlcnZpY2UgPSBuZXcgSG9ja2V5RGF0YVNlcnZpY2U7XG4gICAgICAgICAgICAgICAgZGl2aXNpb25JZCA9ICRlbGVtLmRhdGEoJ2RpdmlzaW9uJyk7XG5cbiAgICAgICAgICAgICAgICBzZXJ2aWNlLmdldFN0YW5kaW5ncyhkaXZpc2lvbklkKS50aGVuKFxuICAgICAgICAgICAgICAgICAgICBmdW5jdGlvbihyZXNwb25zZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgYnVpbGRXaWRnZXQoJGVsZW0sIHJlc3BvbnNlLmRhdGEpO1xuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICBmdW5jdGlvbihyZXNwb25zZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ2Vycm9yJywgcmVzcG9uc2UpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG5cbiAgICAkKGRvY3VtZW50KS5yZWFkeShmdW5jdGlvbigpIHtcbiAgICAgICAgXy50ZW1wbGF0ZVNldHRpbmdzID0ge1xuICAgICAgICAgICAgaW50ZXJwb2xhdGU6IC9cXHtcXHsoLis/KVxcfVxcfS9nXG4gICAgICAgIH07XG5cbiAgICAgICAgJCgnLmpzLXdpZGdldC1zdGFuZGluZ3MnKS5lYWNoKGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgdmFyIHN0YW5kaW5ncyA9IG5ldyBIb2NrZXlEYXRhV2lkZ2V0c1N0YW5kaW5ncztcbiAgICAgICAgICAgIHN0YW5kaW5ncy5pbml0KCQodGhpcykpO1xuICAgICAgICB9KTtcbiAgICB9KTtcbn0pKGpRdWVyeSk7XG4iLCIoZnVuY3Rpb24oJCkge1xuICAgIHdpbmRvdy5Ib2NrZXlEYXRhU2VydmljZSA9IGZ1bmN0aW9uKCkge1xuICAgICAgICBcInVzZSBzdHJpY3RcIjtcblxuICAgICAgICB2YXIgY29uZmlnID0gbmV3IEhvY2tleURhdGFDb25maWcoKTtcbiAgICAgICAgdmFyIGJhc2VVcmwgPSBjb25maWcuaG9ja2V5RGF0YUFwaVVybDtcbiAgICAgICAgdmFyIHNjaGVkdWxlVXJsID0gJy9TY2hlZHVsZSc7XG4gICAgICAgIHZhciBzdGFuZGluZ3NVcmwgPSAnL1N0YW5kaW5ncyc7XG4gICAgICAgIHZhciBrbm9ja291dFVybCA9ICcvS25vY2tvdXRTdGFnZSc7XG5cbiAgICAgICAgdmFyIHVybFBhcmFtcyA9IHtcbiAgICAgICAgICAgIGFwaUtleTogY29uZmlnLmhvY2tleURhdGFBcGlLZXksXG4gICAgICAgICAgICBkaXZpc2lvbklkOiAnMTM2JyxcbiAgICAgICAgICAgIGxlYWd1ZTogY29uZmlnLmxlYWd1ZSxcbiAgICAgICAgICAgIHNwb3J0OiBjb25maWcuc3BvcnQsXG4gICAgICAgICAgICByZWZlcmVyOiBjb25maWcucmVmZXJlclxuICAgICAgICB9O1xuXG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBnZXRTY2hlZHVsZTogZnVuY3Rpb24oZGl2aXNpb25JZCkge1xuICAgICAgICAgICAgICAgIHZhciBkZWZlciA9ICQuRGVmZXJyZWQoKTtcblxuICAgICAgICAgICAgICAgIHVybFBhcmFtcy5kaXZpc2lvbklkID0gZGl2aXNpb25JZDtcbiAgICAgICAgICAgICAgICB2YXIgcGFyYW1zID0gJC5wYXJhbSh1cmxQYXJhbXMpO1xuICAgICAgICAgICAgICAgIHZhciB1cmwgPSBiYXNlVXJsICsgc2NoZWR1bGVVcmwgKyAnPycgKyBwYXJhbXM7XG4gICAgICAgICAgICAgICAgdmFyIHJlcXVlc3QgPSAkLmFqYXgoe1xuICAgICAgICAgICAgICAgICAgICB1cmw6IHVybCxcbiAgICAgICAgICAgICAgICAgICAgZGF0YVR5cGU6IFwianNvbnBcIixcbiAgICAgICAgICAgICAgICAgICAgYXN5bmM6IGZhbHNlXG4gICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICByZXF1ZXN0LnN1Y2Nlc3MoZnVuY3Rpb24ocmVzcG9uc2UpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGRlZmVyLnJlc29sdmUocmVzcG9uc2UpO1xuICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgcmVxdWVzdC5lcnJvcihmdW5jdGlvbihyZXNwb25zZSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZGVmZXIucmVqZWN0KHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGRhdGE6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByb3dzOiBbXVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgIHJldHVybiBkZWZlci5wcm9taXNlKCk7XG5cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBnZXRTdGFuZGluZ3M6IGZ1bmN0aW9uKGRpdmlzaW9uSWQpIHtcbiAgICAgICAgICAgICAgICB1cmxQYXJhbXMuZGl2aXNpb25JZCA9IGRpdmlzaW9uSWQ7XG4gICAgICAgICAgICAgICAgdmFyIHBhcmFtcyA9ICQucGFyYW0odXJsUGFyYW1zKTtcbiAgICAgICAgICAgICAgICB2YXIgdXJsID0gYmFzZVVybCArIHN0YW5kaW5nc1VybCArICc/JyArIHBhcmFtcztcblxuICAgICAgICAgICAgICAgIHJldHVybiAkLmFqYXgoe1xuICAgICAgICAgICAgICAgICAgICB1cmw6IHVybCxcbiAgICAgICAgICAgICAgICAgICAgZGF0YVR5cGU6IFwianNvbnBcIlxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGdldEtub2Nrb3V0OiBmdW5jdGlvbihkaXZpc2lvbklkKSB7XG4gICAgICAgICAgICAgICAgdXJsUGFyYW1zLmRpdmlzaW9uSWQgPSBkaXZpc2lvbklkO1xuICAgICAgICAgICAgICAgIHZhciBwYXJhbXMgPSAkLnBhcmFtKHVybFBhcmFtcyk7XG4gICAgICAgICAgICAgICAgdmFyIHVybCA9IGJhc2VVcmwgKyBrbm9ja291dFVybCArICc/JyArIHBhcmFtcztcblxuICAgICAgICAgICAgICAgIHJldHVybiAkLmFqYXgoe1xuICAgICAgICAgICAgICAgICAgICB1cmw6IHVybCxcbiAgICAgICAgICAgICAgICAgICAgZGF0YVR5cGU6IFwianNvbnBcIlxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcbn0pKGpRdWVyeSk7XG4iXSwic291cmNlUm9vdCI6Ii9zb3VyY2UvIn0=
